<section class="research-collections">

  <h2 class="title">Research Collections</h2>
  <div class='collection-filters'>
    <div class='main-filters'>
      <span class='heading'>
        Filter By:
      </span>
      <span class='filterable-by'>
        <button data-ng-repeat="term in terms" data-ng-click="setSubterms($index, term)"
          data-ng-class="{active: $index == selected}">
          {{term.name}}
        </button>
      </span>
    </div>
    <div class='sub-filters'>
        <ul>
          <li class="term {{term.name}}" data-ng-repeat="term in subterms">
            <button class="btn--small" href="" data-ng-click="filterDivisionsBy($index, term)" data-ng-model="term.name" data-ng-class="{active: $index == selectedSubterm}">{{term.name}}</button>
          </li>
        </ul>
    </div>
  </div>

  <section class="collections-results">
    <div class='filtered-divisions'>
      <div id="container__divisions" data-ng-if="divisions">
        <h2 class="hdg">{{ 'DIVISION_HEADER' | translate }}</h2>
        <div class="grid">
          <div class="grid__item one-whole tablet-and-up-one-half lap-and-up-one-third"
            data-ng-repeat='division in filteredDivisions track by $index'>
            <div class="division-wrapper">
              <a data-ui-sref="division({division: division.slug})"
                analytics-on="click" analytics-category="Locations"
                analytics-event="Division Image" analytics-label="{{division.name}}">
                <img class="img--outline division-image" data-ng-src="{{division.images.interior}}"
                  alt="Image for {{division.name}}" title="Image for {{division.name}}" style="max-height: 235px;" />
              </a>
              <h4 class="division-name">
                <a data-ui-sref="division({division: division.slug})"
                  analytics-on="click" analytics-category="Locations"
                  analytics-event="Division Title" analytics-label="{{division.name}}">
                  {{division.name}}
                </a>
              </h4>
              <p data-ng-if="division.hours">Hours Today: {{division.hoursToday | timeFormat}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</section>
