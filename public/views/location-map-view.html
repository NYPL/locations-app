<!-- Map View w/ Locations Data -->
<!-- Locations Results - List View -->
<section class="locations-results-map">
  <div class="grid">
  	<div class="grid__item one-whole lap-and-up-one-half">
  		<!-- Google Map -->
	    <div class="map-wrapper">
				<div id="all-locations-map" class="nypl-map"></div>
			  <div id="all-locations-map-legend" class="hide-legend">
			    <div data-ng-if="locations"><img src="http://maps.google.com/mapfiles/ms/icons/red-dot.png" />
			      {{ 'NYPL_MARKER' | translate }}</div>
			    <div data-ng-if="userMarker"><img src="http://maps.google.com/mapfiles/ms/icons/blue-dot.png" />
			      {{ 'USER_MARKER' | translate }}</div>
          <div data-ng-if="searchMarker"><img src="http://maps.google.com/mapfiles/ms/icons/green-dot.png" />
			      {{ 'SEARCH_MARKER' | translate }}</div>
			  </div>
	    </div>
	  </div><!--

	  --><div class="grid__item one-whole lap-and-up-one-half">
	  	<!-- Locations List Data -->
	  	<div class="locations-data-wrapper scrollable">

	  		<div id="{{location.id}}" class="location-data {{location.highlight}}" data-ng-repeat="location in locations | filter:{type:location_type} | orderBy:predicate:reverse">

					<div class="p-org"><a data-ui-sref='location({location: location.slug})'>{{location.name}}</a></div>
					<div class="p-adr">
						<div class="p-street-address">{{location.street_address}}</div>
						<span class="p-locality">{{location.locality}}</span>, 
						<span class="p-region">{{location.region}}</span>, 
						<span class="p-postal-code">{{location.postal_code}}</span>
					</div>
					<div class="p-tel" data-ng-if="location.contacts.phone">
						Phone: {{location.contacts.phone}}
					</div>

          <!-- Accessibility -->
          <div data-ng-if="location.access == 'Fully Accessible'" class="fully accessible icon-accessibility icon-color-blue">
            {{location.access}}
          </div>
          <div data-ng-if="location.access == 'Partially Accessible'" class="partially accessible icon-accessibility2 icon-color-blue">
            {{location.access}}
          </div>

          <!-- Highlighted Amenities -->
					<div class="loc-amenities">
            <ul class="highlighted-amenities-list">
              <li data-ng-repeat="amenity in location.amenities_list | limitTo:3 | orderBy:'location_rank'">
                {{amenity.name}}
              </li>
            </ul>
					</div>

          <!-- Distance -->
          <div class="distance" data-ng-if="location.distance">
            <span>{{ 'DISTANCE' | translate }}</span>:
            <strong>{{location.distance}} {{ 'MILES' | translate}}</strong>
          </div>

          <!-- Today's Hours -->
					<div class="todays-hours branch-open" data-ng-if="location.open">
						<span>{{ 'TODAYS_HOURS' | translate }}</span>:
						<strong>{{ location.hoursToday(location.hours) | timeFormat }}</strong>
					</div>

          <!-- Closed flag -->
          <div data-ng-if="!location.open" class="branch-closed">
            <b>Branch is temporarily closed.</b>
          </div>

					<!-- Branch Messages -->
          <div data-ng-if="location.branchException" class="loc-exceptions">
            <p> {{ location.branchException.desc }} </p>
          </div>

          <!-- Map/Directions Links -->
          <div class="map-link">
            <a class="icon-map view-on-map" href="" data-ng-click="panToLibrary(location.slug)">{{ 'VIEW_MAP' | translate}}</a>
          </div>
          <div class="directions-link">
            <a class="icon-compass" target="_blank"
              href="https://maps.google.com/maps?saddr={{locationStart}}&daddr={{location.locationDest}}">
              {{ 'DIRECTIONS' | translate }}
            </a>
          </div>


	  		</div>
	    </div>
	  </div>
  </div>
</section>